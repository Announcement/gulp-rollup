{"version":3,"names":[],"mappings":"","sources":["gulp-rollup.js"],"sourcesContent":["var through = require('through2')\r\n// var {PluginError} = require('gulp-util')\r\n\r\n// const PLUGIN_NAME = 'gulp-rollup'\r\n\r\nmodule.exports = function (options) {\r\n  function rollupStream (options) {\r\n    var stream\r\n\r\n    stream = through()\r\n\r\n    stream.write(options)\r\n\r\n    return stream\r\n  }\r\n\r\n  function gulpRollup (options) {\r\n    var stream\r\n\r\n    stream = through.obj(transformFunction)\r\n\r\n    return stream\r\n\r\n    function transformFunction (chunk, encoding, callback) {\r\n      var hasCallback\r\n\r\n      hasCallback = true\r\n\r\n      isNull()\r\n      isBuffer()\r\n      isStream()\r\n\r\n      console.log(chunk)\r\n\r\n      if (hasCallback) {\r\n        callback(null, chunk)\r\n      }\r\n\r\n      function isNull () {\r\n        if (chunk.isNull()) {\r\n          callback(null, chunk)\r\n          hasCallback = false\r\n        }\r\n      }\r\n\r\n      function isBuffer () {\r\n        if (chunk.isBuffer()) {\r\n          chunk.contents = Buffer.from('')\r\n        }\r\n      }\r\n\r\n      function isStream () {\r\n        if (chunk.isStream()) {\r\n          chunk.contents = chunk.contents.pipe(rollupStream(options))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return gulpRollup(options)\r\n}\r\n"],"file":"gulp-rollup.js"}